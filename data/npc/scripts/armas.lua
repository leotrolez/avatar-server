local keywordHandler = KeywordHandler:new()
local npcHandler = NpcHandler:new(keywordHandler)
npcHandler.talkRadius = 4
NpcSystem.parseParameters(npcHandler)
local talkState = {}

function onCreatureAppear(cid)        npcHandler:onCreatureAppear(cid)      end
function onCreatureDisappear(cid)       npcHandler:onCreatureDisappear(cid)     end
function onCreatureSay(cid, type, msg)    npcHandler:onCreatureSay(cid, type, msg)  end
function onThink()              npcHandler:onThink()            end
function onPlayerEndTrade(cid)        npcHandler:onPlayerEndTrade(cid)      end
function onPlayerCloseChannel(cid)      npcHandler:onPlayerCloseChannel(cid)    end
npcHandler:setMessage(MESSAGE_GREET, "")

local shopModule = ShopModule:new()
npcHandler:addModule(shopModule)

function creatureSayCallback(cid, type, msg)
  if(not npcHandler:isFocused(cid)) then
    return false
  end
  return true
end
function onGreet(cid) 
	selfSay(getLangString(cid, "Hello "..getCreatureName(cid).."! How can i help you? Do you want to see my {offers}?", "Olá "..getCreatureName(cid).."! Você deseja ver minhas {ofertas}?"), cid)
	return true
end

npcHandler:setCallback(CALLBACK_GREET, onGreet)

npcHandler:setCallback(CALLBACK_MESSAGE_DEFAULT, creatureSayCallback)
npcHandler:addModule(FocusModule:new())


    shopModule:addSellableItem('composite hornbow', 12200, 8855, '')
    shopModule:addSellableItem('headedness bow', 10100, 13320, '')
    shopModule:addSellableItem('yols bow', 3500, 8856, '')
    shopModule:addSellableItem('elvish bow', 2100, 7438, '')
    shopModule:addSellableItem('vulcan axe', 20000, 13345, '')
    shopModule:addSellableItem('firely sword', 20000, 13341, '')
    shopModule:addSellableItem('club of dragonbreath', 20000, 13437, '')
    shopModule:addSellableItem('crystalline axe', 20000, 13132, '')
    shopModule:addSellableItem('crystalline sword', 20000, 13136, '')
    shopModule:addSellableItem('crystalline club', 20000, 12862, '')
    shopModule:addSellableItem('heavy war axe', 50000, 12782, '')
    shopModule:addSellableItem('heavy axe', 25000, 13458, '')
    shopModule:addSellableItem('heavy war blade', 50000, 12806, '')
    shopModule:addSellableItem('heavy blade', 25000, 12863, '')
    shopModule:addSellableItem('heavy war hammer', 50000, 13432, '')
    shopModule:addSellableItem('heavy hammer', 25000, 13340, '')
    shopModule:addSellableItem('undead power blade', 50000, 12649, '')
  shopModule:addSellableItem('jade hammer', 9000, 7422, '')
  shopModule:addSellableItem('bonebreaker', 8150, 7428, '')
  shopModule:addSellableItem('berserker', 8000, 7403, '')
  shopModule:addSellableItem('epee', 2500, 2438, '')
    shopModule:addSellableItem('banana staff', 150, 3966, '')
      shopModule:addSellableItem('jungle axe', 12000, 12793, '')
      shopModule:addSellableItem('ruthless axe', 9000, 6553, '')
  shopModule:addSellableItem('silver mace', 2505, 2424, '')
    shopModule:addSellableItem('vampire chopper', 16000, 12852, '')
     shopModule:addSellableItem('ironworker', 7800, 8853, '')
     shopModule:addSellableItem('fire axe', 3000, 2432, '')
  shopModule:addSellableItem('vile axe', 3500, 7388, '')
  shopModule:addSellableItem('onix flail', 2000, 7421, '')
  shopModule:addSellableItem('spawn hammer', 17505, 13342, '')
  shopModule:addSellableItem('obsidian lance', 1205, 2425, '')
    shopModule:addSellableItem('dark trinity mace', 10800, 8927, '')
  shopModule:addSellableItem('blessed sceptre', 4500, 7429, '')
  shopModule:addSellableItem('poison dagger', 40, 2411, '')
    shopModule:addSellableItem('short sword', 2, 2406, '')
  shopModule:addSellableItem('mercenary sword', 3800, 7386, '')
  shopModule:addSellableItem('ornamented axe', 4500, 7411, '')
    shopModule:addSellableItem('dragon slayer', 2580, 7402, '')
  shopModule:addSellableItem('sapphire hammer', 800, 7437, '')
   shopModule:addSellableItem('serpent sword', 890, 2409, '')
     shopModule:addSellableItem('umbral fire sword', 16000, 12869, '')
    shopModule:addSellableItem('titan axe', 2800, 7413, '')
      shopModule:addSellableItem('nightmare blade', 3000, 7418, '')
  shopModule:addSellableItem('golden-slim axe', 13500, 12848, '')
  shopModule:addSellableItem('savage sword', 11000, 12870, '')
  shopModule:addSellableItem('yellow sword', 14000, 12867, '')
    shopModule:addSellableItem('dragon hammer', 380, 2434, '')
      shopModule:addSellableItem('hatchet', 15, 2388, '')
        shopModule:addSellableItem('battle axe', 65, 2378, '')
          shopModule:addSellableItem('battle hammer', 120, 2417, '')
  shopModule:addSellableItem('dragonbone staff', 420, 7430, '')
    shopModule:addSellableItem('double axe', 260, 2387, '')
      shopModule:addSellableItem('clerical mace', 170, 2423, '')
  shopModule:addSellableItem('mammoth whopper', 470, 7381, '')
    shopModule:addSellableItem('halberd', 470, 2381, '')
  shopModule:addSellableItem('war hammer', 850, 2391, '')
    shopModule:addSellableItem('spiked squelcher', 750, 7452, '')  
  shopModule:addSellableItem('two handed sword', 400, 2377, '')
    shopModule:addSellableItem('firelywood sword', 15000, 11395, '')
  shopModule:addSellableItem('lava axe', 15000, 12855, '')
    shopModule:addSellableItem('katana', 30, 2412, '')
  shopModule:addSellableItem('bone sword', 20, 2450, '')
  shopModule:addSellableItem('spike sword', 70, 2383, '')
    shopModule:addSellableItem('mystic blade', 2000, 7384, '')
  shopModule:addSellableItem('orcish maul', 2200, 7392, '')
    shopModule:addSellableItem('crimson sword', 700, 7385, '')
  shopModule:addSellableItem('cranial basher', 4100, 7415, '')
    shopModule:addSellableItem('justice seeker', 4500, 7390, '')
  shopModule:addSellableItem('chaos mace', 1500, 7427, '')
    shopModule:addSellableItem('heroic axe', 1500, 7389, '')
  shopModule:addSellableItem('war axe', 6000, 2454, '')
  shopModule:addSellableItem('relic sword', 3450, 7383, '')
    shopModule:addSellableItem('wyvern fang', 1200, 7408, '')
      shopModule:addSellableItem('djinn blade', 1700, 2451, '')
  shopModule:addSellableItem('dwarven axe', 1150, 2435, '')
  shopModule:addSellableItem('taurus mace', 300, 7425, '')
  shopModule:addSellableItem('headchopper', 1600, 7380, '')
  shopModule:addSellableItem('heavy mace', 7000, 2452, '')
    shopModule:addSellableItem('reapering', 9500, 12843, '')
      shopModule:addSellableItem('morning star', 70, 2394, '')
        shopModule:addSellableItem('longsword', 45, 2397, '')
          shopModule:addSellableItem('heavy machete', 49, 2442, '')
  shopModule:addSellableItem('daramanian mace', 75, 2439, '')
  shopModule:addSellableItem('hand axe', 15, 2380, '')
    shopModule:addSellableItem('skull staff', 1800, 2436, '')
  shopModule:addSellableItem('dragon lance', 8000, 2414, '')
    shopModule:addSellableItem('knight axe', 1500, 2430, '')
      shopModule:addSellableItem('daramanian waraxe', 2000, 2440, '')
        shopModule:addSellableItem('ancient axe', 10000, 2443, '')
  shopModule:addSellableItem('ancient hammer of wrath', 12000, 2444, '')
    shopModule:addSellableItem('water blade', 4500, 7407, '')
      shopModule:addSellableItem('mace', 35, 2398, '')
  shopModule:addSellableItem('axe', 15, 2386, '')
  shopModule:addSellableItem('staff', 50, 2401, '')
    shopModule:addSellableItem('fire sword', 4500, 2392, '')
  shopModule:addSellableItem('assassin dagger', 5500, 7404, '')
    shopModule:addSellableItem('bone club', 13, 2449, '')
      shopModule:addSellableItem('zuko sword', 1000, 11307, '')
  shopModule:addSellableItem('drakinata', 1200, 11305, '')
  shopModule:addSellableItem('zaoan halberd', 800, 11323, '')
    shopModule:addSellableItem('stoned cleaver', 1700, 12795, '')
      shopModule:addSellableItem('giant sword', 11000, 2393, '')
        shopModule:addSellableItem('beastslayer axe', 610, 3962, '')
          shopModule:addSellableItem('crystal sword', 340, 7449, '')
            shopModule:addSellableItem('broadsword', 120, 2413, '')
  shopModule:addSellableItem('scimitar', 230, 2419, '')
    shopModule:addSellableItem('noble axe', 3000, 7456, '')