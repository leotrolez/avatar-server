local keywordHandler = KeywordHandler:new()
local npcHandler = NpcHandler:new(keywordHandler)
npcHandler.talkRadius = 3
NpcSystem.parseParameters(npcHandler)
local talkState = {}

function onCreatureAppear(cid)        npcHandler:onCreatureAppear(cid)      end
function onCreatureDisappear(cid)       npcHandler:onCreatureDisappear(cid)     end
function onCreatureSay(cid, type, msg)    npcHandler:onCreatureSay(cid, type, msg)  end
function onThink()              npcHandler:onThink()            end
function onPlayerEndTrade(cid)        npcHandler:onPlayerEndTrade(cid)      end
function onPlayerCloseChannel(cid)      npcHandler:onPlayerCloseChannel(cid)    end
npcHandler:setMessage(MESSAGE_GREET, "")

local shopModule = ShopModule:new()
npcHandler:addModule(shopModule)

function creatureSayCallback(cid, type, msg)
  if(not npcHandler:isFocused(cid)) then
    return false
  end
  return true
end
function onGreet(cid) 
	selfSay(getLangString(cid, "Hello "..getCreatureName(cid).."! How can i help you? Do you want to see my {offers}?", "Olá "..getCreatureName(cid).."! Você deseja ver minhas {ofertas}?"), cid)
	return true
end

npcHandler:setCallback(CALLBACK_GREET, onGreet)
npcHandler:setCallback(CALLBACK_MESSAGE_DEFAULT, creatureSayCallback)
npcHandler:addModule(FocusModule:new())


  shopModule:addSellableItem('midnight shard', 4000, 10531, '')
  shopModule:addSellableItem('gear wheel', 415, 9690, '')
  shopModule:addSellableItem('boggy dreads', 310, 10584, '')
  shopModule:addSellableItem('small topaz', 250, 9970, '')
  shopModule:addSellableItem('dracoyle statue', 1000, 9948, '')
  shopModule:addSellableItem('violet gem', 6000, 2153, '')
  shopModule:addSellableItem('giant shimmering pearl', 1500, 7632, '')
  shopModule:addSellableItem('small ruby', 250, 2147, '')
  shopModule:addSellableItem('turtle shell', 12, 5899, '')
  shopModule:addSellableItem('thorn', 21, 10560, '')
  shopModule:addSellableItem('banshee necklace', 210, 12436, '')
  shopModule:addSellableItem('fool golden', 12, 12422, '')
  shopModule:addSellableItem('piece of orc skin', 5, 12435, '')
  shopModule:addSellableItem('witch staff', 235, 12408, '')
  shopModule:addSellableItem('bunch of troll hair', 2, 10606, '')
  shopModule:addSellableItem('bandits backpack', 15, 12425, '')
  shopModule:addSellableItem('behemoth claw', 520, 5930, '')
  shopModule:addSellableItem('emerald bangle', 500, 2127, '')
  shopModule:addSellableItem('bear paw', 35, 5896, '')
  shopModule:addSellableItem('undead heart', 35, 11367, '')
  shopModule:addSellableItem('piece of hydra leather', 45, 11196, '')
  shopModule:addSellableItem('hydramat hearth', 2200, 12638, '')
  shopModule:addSellableItem('perfect behemoth fang', 300, 5893, '')
  shopModule:addSellableItem('strange symbol', 3000, 2174, '')
  shopModule:addSellableItem('fire egg', 80, 11400, '')
  shopModule:addSellableItem('metal bracelet', 400, 11322, '')
  shopModule:addSellableItem('wyrm scale', 400, 10582, '')
  shopModule:addSellableItem('essence of a bad dream', 835, 11223, '')
  shopModule:addSellableItem('wyvern talisman', 105, 10561, '')
  shopModule:addSellableItem('mutated bat ear', 335, 10579, '')
  shopModule:addSellableItem('red dragon leather', 1235, 5948, '')
  shopModule:addSellableItem('red dragon scale', 1335, 5882, '')
  shopModule:addSellableItem('sea serpent scale', 135, 10583, '')
  shopModule:addSellableItem('brown piece of cloth', 200, 5913, '')
  shopModule:addSellableItem('black pearl', 230, 2144, '')
  shopModule:addSellableItem('white pearl', 230, 2143, '')
  shopModule:addSellableItem('shard', 190, 7290, '')
  shopModule:addSellableItem('dwarven beard', 9, 5900, '')
  shopModule:addSellableItem('soul orb', 235, 5944, '')
  shopModule:addSellableItem('demonic essence', 80, 6500, '')
  shopModule:addSellableItem('lizard leather', 120, 5876, '')
  shopModule:addSellableItem('lizard scale', 120, 5881, '')
  shopModule:addSellableItem('red lantern', 100, 11206, '')
  shopModule:addSellableItem('spiked iron ball', 100, 11325, '')
  shopModule:addSellableItem('high guard flag', 110, 11332, '')
  shopModule:addSellableItem('bunch of ripe rice', 110, 11245, '')
  shopModule:addSellableItem('broken halberd', 110, 11335, '')
  shopModule:addSellableItem('legionnaire flag', 115, 11334, '')
  shopModule:addSellableItem('magic sulphur', 170, 5904, '')
  shopModule:addSellableItem('fish fin', 190, 5895, '')
  shopModule:addSellableItem('bloody pincer', 130, 10550, '')
  shopModule:addSellableItem('crab pincers', 20, 11189, '')
  shopModule:addSellableItem('feather headdress', 230, 3970, '')
  shopModule:addSellableItem('inkwell', 10, 2600, '')
  shopModule:addSellableItem('giant spider silk', 130, 5879, '')
  shopModule:addSellableItem('mysterious fetish', 280, 2194, '')
  shopModule:addSellableItem('mind stone', 590, 2178, '')
  shopModule:addSellableItem('scarab coin', 3, 2159, '')
  shopModule:addSellableItem('grave flower', 14, 2747, '')
  shopModule:addSellableItem('waterskin', 13, 2031, '')
  shopModule:addSellableItem('heaven blossom', 70, 5921, '')
  shopModule:addSellableItem('holy orchid', 100, 5922, '')
  shopModule:addSellableItem('piece of dead brain', 25, 10580, '')
  shopModule:addSellableItem('bat wing', 7, 5894, '')
  shopModule:addSellableItem('cyclops eye', 50, 5898, '')
  shopModule:addSellableItem('cyclops toe', 9, 10574, '')  
  shopModule:addSellableItem('iron ore', 6, 5880, '')
  shopModule:addSellableItem('lump of dirt', 4, 10609, '')
  shopModule:addSellableItem('worm', 1, 3976, '')
  shopModule:addSellableItem('small amethyst', 150, 2150, '')
  shopModule:addSellableItem('small sapphire', 200, 2146, '')  
  shopModule:addSellableItem('small diamond', 210, 2145, '')
  shopModule:addSellableItem('small emerald', 130, 2149, '')
  shopModule:addSellableItem('yellow gem', 690, 2154, '')
  shopModule:addSellableItem('green gem', 990, 2155, '')
  shopModule:addSellableItem('red gem', 890, 2156, '')
  shopModule:addSellableItem('demonic skeletal hand', 150, 10564, '')
  shopModule:addSellableItem('skeletal bone', 20, 12437, '')
  shopModule:addSellableItem('ghoul snack', 15, 12423, '')
  shopModule:addSellableItem('terrorbird beak', 120, 11190, '')
  shopModule:addSellableItem('coloured terror feather', 170, 12640, '')
  shopModule:addSellableItem('scarab pincers', 220, 10548, '')
  shopModule:addSellableItem('broken elmo', 360, 12409, '')
  shopModule:addSellableItem('ancient stone', 150, 10549, '')
  shopModule:addSellableItem('stone wing', 75, 11195, '')
  shopModule:addSellableItem('spider fang', 11, 8859, '')
  shopModule:addSellableItem('widow mandibles', 110, 11328, '')
  shopModule:addSellableItem('carrion fang', 55, 11192, '')
  shopModule:addSellableItem('vampire teeth', 200, 10602, '')
  shopModule:addSellableItem('red piece of cloth', 570, 5911, '')
  shopModule:addSellableItem('annihilator doll', 70000, 11144, '')
  shopModule:addSellableItem('silver goblet', 100, 5806, '')
  shopModule:addSellableItem('hardened bone', 4000, 5925, '')
  shopModule:addSellableItem('cats paw', 3000, 5480, '')
  shopModule:addSellableItem('ape fur', 20, 5883, '')
  shopModule:addSellableItem('bundle of cursed straw', 490, 10605, '')
  shopModule:addSellableItem('wedding ring', 300, 2121, '')
  shopModule:addSellableItem('crystal ring', 300, 2124, '')